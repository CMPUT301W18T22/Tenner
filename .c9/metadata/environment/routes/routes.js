{"filter":false,"title":"routes.js","tooltip":"/routes/routes.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"insert","lines":["1"],"id":14496}],[{"start":{"row":16,"column":23},"end":{"row":16,"column":24},"action":"insert","lines":["0"],"id":14497}],[{"start":{"row":16,"column":24},"end":{"row":16,"column":25},"action":"insert","lines":["0"],"id":14498}],[{"start":{"row":16,"column":25},"end":{"row":16,"column":26},"action":"insert","lines":["0"],"id":14499}],[{"start":{"row":16,"column":26},"end":{"row":16,"column":27},"action":"insert","lines":["0"],"id":14500}],[{"start":{"row":161,"column":32},"end":{"row":161,"column":35},"action":"remove","lines":["// "],"id":14501},{"start":{"row":162,"column":32},"end":{"row":162,"column":35},"action":"remove","lines":["// "]}],[{"start":{"row":164,"column":32},"end":{"row":164,"column":35},"action":"insert","lines":["// "],"id":14502},{"start":{"row":165,"column":32},"end":{"row":165,"column":35},"action":"insert","lines":["// "]},{"start":{"row":166,"column":32},"end":{"row":166,"column":35},"action":"insert","lines":["// "]},{"start":{"row":167,"column":32},"end":{"row":167,"column":35},"action":"insert","lines":["// "]},{"start":{"row":168,"column":32},"end":{"row":168,"column":35},"action":"insert","lines":["// "]},{"start":{"row":169,"column":32},"end":{"row":169,"column":35},"action":"insert","lines":["// "]},{"start":{"row":170,"column":32},"end":{"row":170,"column":35},"action":"insert","lines":["// "]},{"start":{"row":171,"column":32},"end":{"row":171,"column":35},"action":"insert","lines":["// "]},{"start":{"row":172,"column":32},"end":{"row":172,"column":35},"action":"insert","lines":["// "]},{"start":{"row":173,"column":32},"end":{"row":173,"column":35},"action":"insert","lines":["// "]},{"start":{"row":174,"column":32},"end":{"row":174,"column":35},"action":"insert","lines":["// "]},{"start":{"row":175,"column":32},"end":{"row":175,"column":35},"action":"insert","lines":["// "]},{"start":{"row":176,"column":32},"end":{"row":176,"column":35},"action":"insert","lines":["// "]},{"start":{"row":177,"column":32},"end":{"row":177,"column":35},"action":"insert","lines":["// "]},{"start":{"row":178,"column":32},"end":{"row":178,"column":35},"action":"insert","lines":["// "]},{"start":{"row":179,"column":32},"end":{"row":179,"column":35},"action":"insert","lines":["// "]},{"start":{"row":180,"column":32},"end":{"row":180,"column":35},"action":"insert","lines":["// "]},{"start":{"row":181,"column":32},"end":{"row":181,"column":35},"action":"insert","lines":["// "]},{"start":{"row":182,"column":32},"end":{"row":182,"column":35},"action":"insert","lines":["// "]},{"start":{"row":183,"column":32},"end":{"row":183,"column":35},"action":"insert","lines":["// "]},{"start":{"row":184,"column":32},"end":{"row":184,"column":35},"action":"insert","lines":["// "]},{"start":{"row":185,"column":32},"end":{"row":185,"column":35},"action":"insert","lines":["// "]},{"start":{"row":186,"column":32},"end":{"row":186,"column":35},"action":"insert","lines":["// "]},{"start":{"row":187,"column":32},"end":{"row":187,"column":35},"action":"insert","lines":["// "]},{"start":{"row":188,"column":32},"end":{"row":188,"column":35},"action":"insert","lines":["// "]},{"start":{"row":189,"column":32},"end":{"row":189,"column":35},"action":"insert","lines":["// "]},{"start":{"row":190,"column":32},"end":{"row":190,"column":35},"action":"insert","lines":["// "]},{"start":{"row":191,"column":32},"end":{"row":191,"column":35},"action":"insert","lines":["// "]},{"start":{"row":192,"column":32},"end":{"row":192,"column":35},"action":"insert","lines":["// "]},{"start":{"row":193,"column":32},"end":{"row":193,"column":35},"action":"insert","lines":["// "]},{"start":{"row":194,"column":32},"end":{"row":194,"column":35},"action":"insert","lines":["// "]},{"start":{"row":195,"column":32},"end":{"row":195,"column":35},"action":"insert","lines":["// "]},{"start":{"row":196,"column":32},"end":{"row":196,"column":35},"action":"insert","lines":["// "]},{"start":{"row":197,"column":32},"end":{"row":197,"column":35},"action":"insert","lines":["// "]},{"start":{"row":198,"column":32},"end":{"row":198,"column":35},"action":"insert","lines":["// "]},{"start":{"row":199,"column":32},"end":{"row":199,"column":35},"action":"insert","lines":["// "]},{"start":{"row":200,"column":32},"end":{"row":200,"column":35},"action":"insert","lines":["// "]},{"start":{"row":201,"column":32},"end":{"row":201,"column":35},"action":"insert","lines":["// "]},{"start":{"row":202,"column":32},"end":{"row":202,"column":35},"action":"insert","lines":["// "]},{"start":{"row":203,"column":32},"end":{"row":203,"column":35},"action":"insert","lines":["// "]},{"start":{"row":204,"column":32},"end":{"row":204,"column":35},"action":"insert","lines":["// "]},{"start":{"row":205,"column":32},"end":{"row":205,"column":35},"action":"insert","lines":["// "]},{"start":{"row":206,"column":32},"end":{"row":206,"column":35},"action":"insert","lines":["// "]},{"start":{"row":207,"column":32},"end":{"row":207,"column":35},"action":"insert","lines":["// "]},{"start":{"row":208,"column":32},"end":{"row":208,"column":35},"action":"insert","lines":["// "]}],[{"start":{"row":163,"column":36},"end":{"row":164,"column":0},"action":"insert","lines":["",""],"id":14503},{"start":{"row":164,"column":0},"end":{"row":164,"column":32},"action":"insert","lines":["                                "]}],[{"start":{"row":164,"column":32},"end":{"row":164,"column":100},"action":"insert","lines":["return response.send({'Error' : 'At /editUser No User Found!'});    "],"id":14504}],[{"start":{"row":164,"column":96},"end":{"row":164,"column":100},"action":"remove","lines":["    "],"id":14505}],[{"start":{"row":164,"column":95},"end":{"row":164,"column":96},"action":"remove","lines":[";"],"id":14506}],[{"start":{"row":164,"column":95},"end":{"row":164,"column":96},"action":"insert","lines":[";"],"id":14507}],[{"start":{"row":164,"column":55},"end":{"row":164,"column":60},"action":"remove","lines":["Error"],"id":14508},{"start":{"row":164,"column":55},"end":{"row":164,"column":56},"action":"insert","lines":["S"]}],[{"start":{"row":164,"column":56},"end":{"row":164,"column":57},"action":"insert","lines":["u"],"id":14509}],[{"start":{"row":164,"column":57},"end":{"row":164,"column":58},"action":"insert","lines":["c"],"id":14510}],[{"start":{"row":164,"column":58},"end":{"row":164,"column":59},"action":"insert","lines":["c"],"id":14511}],[{"start":{"row":164,"column":59},"end":{"row":164,"column":60},"action":"insert","lines":["e"],"id":14512}],[{"start":{"row":164,"column":60},"end":{"row":164,"column":61},"action":"insert","lines":["s"],"id":14513}],[{"start":{"row":164,"column":61},"end":{"row":164,"column":62},"action":"insert","lines":["s"],"id":14514}],[{"start":{"row":164,"column":67},"end":{"row":164,"column":93},"action":"remove","lines":["At /editUser No User Found"],"id":14515},{"start":{"row":164,"column":67},"end":{"row":164,"column":68},"action":"insert","lines":["U"]}],[{"start":{"row":164,"column":68},"end":{"row":164,"column":69},"action":"insert","lines":["s"],"id":14516}],[{"start":{"row":164,"column":69},"end":{"row":164,"column":70},"action":"insert","lines":["e"],"id":14517}],[{"start":{"row":164,"column":70},"end":{"row":164,"column":71},"action":"insert","lines":["r"],"id":14518}],[{"start":{"row":164,"column":71},"end":{"row":164,"column":72},"action":"insert","lines":[" "],"id":14519}],[{"start":{"row":164,"column":71},"end":{"row":164,"column":72},"action":"remove","lines":[" "],"id":14520}],[{"start":{"row":164,"column":71},"end":{"row":164,"column":72},"action":"insert","lines":[" "],"id":14521}],[{"start":{"row":164,"column":72},"end":{"row":164,"column":73},"action":"insert","lines":["S"],"id":14522}],[{"start":{"row":164,"column":73},"end":{"row":164,"column":74},"action":"insert","lines":["o"],"id":14523}],[{"start":{"row":164,"column":74},"end":{"row":164,"column":75},"action":"insert","lines":["u"],"id":14524}],[{"start":{"row":164,"column":75},"end":{"row":164,"column":76},"action":"insert","lines":["n"],"id":14525}],[{"start":{"row":164,"column":76},"end":{"row":164,"column":77},"action":"insert","lines":["d"],"id":14526}],[{"start":{"row":164,"column":76},"end":{"row":164,"column":77},"action":"remove","lines":["d"],"id":14527}],[{"start":{"row":164,"column":75},"end":{"row":164,"column":76},"action":"remove","lines":["n"],"id":14528}],[{"start":{"row":164,"column":74},"end":{"row":164,"column":75},"action":"remove","lines":["u"],"id":14529}],[{"start":{"row":164,"column":73},"end":{"row":164,"column":74},"action":"remove","lines":["o"],"id":14530}],[{"start":{"row":164,"column":72},"end":{"row":164,"column":73},"action":"remove","lines":["S"],"id":14531}],[{"start":{"row":164,"column":72},"end":{"row":164,"column":73},"action":"insert","lines":["U"],"id":14532}],[{"start":{"row":164,"column":73},"end":{"row":164,"column":74},"action":"insert","lines":["p"],"id":14533}],[{"start":{"row":164,"column":74},"end":{"row":164,"column":75},"action":"insert","lines":["d"],"id":14534}],[{"start":{"row":164,"column":75},"end":{"row":164,"column":76},"action":"insert","lines":["a"],"id":14535}],[{"start":{"row":164,"column":76},"end":{"row":164,"column":77},"action":"insert","lines":["t"],"id":14536}],[{"start":{"row":164,"column":77},"end":{"row":164,"column":78},"action":"insert","lines":["e"],"id":14537}],[{"start":{"row":164,"column":78},"end":{"row":164,"column":79},"action":"insert","lines":["d"],"id":14538}],[{"start":{"row":164,"column":84},"end":{"row":209,"column":38},"action":"remove","lines":["","                                // client.search({","                                //     index: 'tenner',","                                //     type: 'tasks'","                                // }).then(function (responseBody) {","                                //     var data = responseBody.hits.hits;","                                //     for(var dataObj in data){","                                //         if (data.hasOwnProperty(dataObj)) {","                                //             if(data[dataObj]._source.requester.email == user.email){","                                //                 client.index({","                                //                     index: 'tenner',","                                //                     type : 'tasks',","                                //                     id : data[dataObj]._source.title + user.email,","                                //                     body : {","                                //                         status: data[dataObj]._source['status'], ","                                //                         title : data[dataObj]._source.title,","                                //                         description : data[dataObj]._source['description'],","                                //                         bidList : data[dataObj]._source.bidList,","                                //                         location : data[dataObj]._source['location'],","                                //                         photos : data[dataObj]._source.photos,","                                //                         requestedDate : data[dataObj]._source,","                                //                         hasNewBids : data[dataObj]._source.hasNewBids,","                                //                         requester : userObj","                                //                     }","                                //                 }, function (err, response2) {","                                //                     // if(!errorFound){","                                //                     //     errorFound = true;","                                //                     //     if(err){","                                //                     //         console.log(err.message);","                                //                     //         return response.send({'Error' : 'At /addTask' + err.message});","                                //                     //     } else {","                                //                     //         return response.send({'Success' : 'At /addTask Task Added!'});","                                //                     //     }","                                //                     // }","                                //                 });","                                //             }","                                //         }","                                //     }","                                // }, function (err) {","                                //     if(err){","                                //         console.log(err.message);","                                //         return response.send('Error at /searchTasks : ' + err.message);     ","                                //     } else {","                                //         return response.send({'Success' : 'At /editUser User Updated!'});","                                //     }","                                // });"],"id":14539}],[{"start":{"row":408,"column":0},"end":{"row":453,"column":0},"action":"remove","lines":["router.get('/getMyBids', function(request, response){","    var userID = request.body.email;","    ","    client.search({","      index: 'tenner',","      type: 'tasks'","    }).then(function (responseBody) {","        var data = responseBody.hits.hits;","        var bidArray = [];","        ","        for(var dataObj in data){","            if(dataObj._source.provider != userID){","                bidArray.push(dataObj._source.bids);","            }","        }","        response.send(data);","    }, function (err) {","        console.log(err.message);","        response.send('Error!');","    });","});","","router.get('/getOtherBids', function(request, response){","    var userID = request.body.email;","    ","    client.search({","      index: 'tenner',","      type: 'tasks'","    }).then(function (responseBody) {","        var data = responseBody.hits.hits;","        console.log(data);","        ","        var bidArray = [];","        ","        for(var dataObj in data){","            if(dataObj._source.provider == userID){","                bidArray.push(dataObj._source.bids);","            }","        }","        response.send(data);","    }, function (err) {","        console.log(err.message);","        response.send('Error!');","    });","});",""],"id":14540}],[{"start":{"row":407,"column":0},"end":{"row":408,"column":0},"action":"remove","lines":["",""],"id":14541}],[{"start":{"row":185,"column":0},"end":{"row":186,"column":5},"action":"remove","lines":["","//???"],"id":14542}],[{"start":{"row":387,"column":3},"end":{"row":388,"column":0},"action":"insert","lines":["",""],"id":14543}],[{"start":{"row":388,"column":0},"end":{"row":389,"column":0},"action":"insert","lines":["",""],"id":14544}],[{"start":{"row":389,"column":0},"end":{"row":413,"column":3},"action":"insert","lines":["router.post('/getRequestedTasks', function(request, response){","    var userID = request.body.user;","    ","    client.search({","      index: 'tenner',","      type: 'tasks'","    }).then(function (responseBody) {","        var data = responseBody.hits.hits;","        var requestedTaskArray = [];","        for(var dataObj in data){","            if (data.hasOwnProperty(dataObj)) {","                if(typeof(data[dataObj]._source.requester) != 'undefined'){","                    if(data[dataObj]._source.requester.email == userID){","                        requestedTaskArray.push(data[dataObj]._source);","                    }","                }","            }","        }","        return response.send(JSON.stringify(requestedTaskArray));","        ","    }, function (err) {","        console.log(err.message);","        return response.send({'Error' : 'At /getRequestedTasks : ' + err.message});","    });","});"],"id":14545}],[{"start":{"row":389,"column":14},"end":{"row":389,"column":31},"action":"remove","lines":["getRequestedTasks"],"id":14546},{"start":{"row":389,"column":14},"end":{"row":389,"column":15},"action":"insert","lines":["g"]}],[{"start":{"row":389,"column":15},"end":{"row":389,"column":16},"action":"insert","lines":["e"],"id":14547}],[{"start":{"row":389,"column":16},"end":{"row":389,"column":17},"action":"insert","lines":["t"],"id":14548}],[{"start":{"row":389,"column":17},"end":{"row":389,"column":18},"action":"insert","lines":["O"],"id":14549}],[{"start":{"row":389,"column":18},"end":{"row":389,"column":19},"action":"insert","lines":["t"],"id":14550}],[{"start":{"row":389,"column":19},"end":{"row":389,"column":20},"action":"insert","lines":["h"],"id":14551}],[{"start":{"row":389,"column":20},"end":{"row":389,"column":21},"action":"insert","lines":["e"],"id":14552}],[{"start":{"row":389,"column":21},"end":{"row":389,"column":22},"action":"insert","lines":["r"],"id":14553}],[{"start":{"row":389,"column":22},"end":{"row":389,"column":23},"action":"insert","lines":["T"],"id":14554}],[{"start":{"row":389,"column":23},"end":{"row":389,"column":24},"action":"insert","lines":["a"],"id":14555}],[{"start":{"row":389,"column":24},"end":{"row":389,"column":25},"action":"insert","lines":["s"],"id":14556}],[{"start":{"row":389,"column":25},"end":{"row":389,"column":26},"action":"insert","lines":["k"],"id":14557}],[{"start":{"row":389,"column":26},"end":{"row":389,"column":27},"action":"insert","lines":["s"],"id":14558}],[{"start":{"row":400,"column":63},"end":{"row":400,"column":72},"action":"remove","lines":["undefined"],"id":14559}],[{"start":{"row":400,"column":63},"end":{"row":400,"column":64},"action":"remove","lines":["'"],"id":14560}],[{"start":{"row":400,"column":62},"end":{"row":400,"column":63},"action":"remove","lines":["'"],"id":14561}],[{"start":{"row":400,"column":62},"end":{"row":400,"column":63},"action":"insert","lines":["u"],"id":14562}],[{"start":{"row":400,"column":63},"end":{"row":400,"column":64},"action":"insert","lines":["s"],"id":14563}],[{"start":{"row":400,"column":64},"end":{"row":400,"column":65},"action":"insert","lines":["e"],"id":14564}],[{"start":{"row":400,"column":65},"end":{"row":400,"column":66},"action":"insert","lines":["r"],"id":14565}],[{"start":{"row":400,"column":66},"end":{"row":400,"column":67},"action":"insert","lines":["I"],"id":14566}],[{"start":{"row":400,"column":67},"end":{"row":400,"column":68},"action":"insert","lines":["D"],"id":14567}],[{"start":{"row":400,"column":70},"end":{"row":401,"column":72},"action":"remove","lines":["","                    if(data[dataObj]._source.requester.email == userID){"],"id":14568}],[{"start":{"row":401,"column":71},"end":{"row":402,"column":21},"action":"remove","lines":["","                    }"],"id":14569}],[{"start":{"row":401,"column":0},"end":{"row":401,"column":4},"action":"remove","lines":["    "],"id":14570}],[{"start":{"row":397,"column":12},"end":{"row":397,"column":30},"action":"remove","lines":["requestedTaskArray"],"id":14571},{"start":{"row":397,"column":12},"end":{"row":397,"column":13},"action":"insert","lines":["o"]}],[{"start":{"row":397,"column":13},"end":{"row":397,"column":14},"action":"insert","lines":["t"],"id":14572}],[{"start":{"row":397,"column":14},"end":{"row":397,"column":15},"action":"insert","lines":["e"],"id":14573}],[{"start":{"row":397,"column":15},"end":{"row":397,"column":16},"action":"insert","lines":["r"],"id":14574}],[{"start":{"row":397,"column":15},"end":{"row":397,"column":16},"action":"remove","lines":["r"],"id":14575}],[{"start":{"row":397,"column":14},"end":{"row":397,"column":15},"action":"remove","lines":["e"],"id":14576}],[{"start":{"row":397,"column":14},"end":{"row":397,"column":15},"action":"insert","lines":["h"],"id":14577}],[{"start":{"row":397,"column":15},"end":{"row":397,"column":16},"action":"insert","lines":["e"],"id":14578}],[{"start":{"row":397,"column":16},"end":{"row":397,"column":17},"action":"insert","lines":["r"],"id":14579}],[{"start":{"row":397,"column":17},"end":{"row":397,"column":18},"action":"insert","lines":["t"],"id":14580}],[{"start":{"row":397,"column":17},"end":{"row":397,"column":18},"action":"remove","lines":["t"],"id":14581}],[{"start":{"row":397,"column":17},"end":{"row":397,"column":18},"action":"insert","lines":["t"],"id":14582}],[{"start":{"row":397,"column":17},"end":{"row":397,"column":18},"action":"remove","lines":["t"],"id":14583}],[{"start":{"row":397,"column":17},"end":{"row":397,"column":18},"action":"insert","lines":["T"],"id":14584}],[{"start":{"row":397,"column":18},"end":{"row":397,"column":19},"action":"insert","lines":["a"],"id":14585}],[{"start":{"row":397,"column":19},"end":{"row":397,"column":20},"action":"insert","lines":["s"],"id":14586}],[{"start":{"row":397,"column":20},"end":{"row":397,"column":21},"action":"insert","lines":["k"],"id":14587}],[{"start":{"row":397,"column":21},"end":{"row":397,"column":22},"action":"insert","lines":["s"],"id":14588}],[{"start":{"row":397,"column":22},"end":{"row":397,"column":23},"action":"insert","lines":["A"],"id":14589}],[{"start":{"row":397,"column":23},"end":{"row":397,"column":24},"action":"insert","lines":["r"],"id":14590}],[{"start":{"row":397,"column":24},"end":{"row":397,"column":25},"action":"insert","lines":["r"],"id":14591}],[{"start":{"row":397,"column":25},"end":{"row":397,"column":26},"action":"insert","lines":["a"],"id":14592}],[{"start":{"row":397,"column":26},"end":{"row":397,"column":27},"action":"insert","lines":["y"],"id":14593}],[{"start":{"row":401,"column":20},"end":{"row":401,"column":38},"action":"remove","lines":["requestedTaskArray"],"id":14594},{"start":{"row":401,"column":20},"end":{"row":401,"column":35},"action":"insert","lines":["otherTasksArray"]}],[{"start":{"row":405,"column":44},"end":{"row":405,"column":62},"action":"remove","lines":["requestedTaskArray"],"id":14595},{"start":{"row":405,"column":44},"end":{"row":405,"column":59},"action":"insert","lines":["otherTasksArray"]}],[{"start":{"row":409,"column":45},"end":{"row":409,"column":62},"action":"remove","lines":["getRequestedTasks"],"id":14596},{"start":{"row":409,"column":45},"end":{"row":409,"column":58},"action":"insert","lines":["getOtherTasks"]}]]},"ace":{"folds":[],"scrolltop":6262,"scrollleft":0,"selection":{"start":{"row":409,"column":58},"end":{"row":409,"column":58},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":390,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1523232948775,"hash":"8346292bc5d0d311184fe675a895184988e3b9cf"}